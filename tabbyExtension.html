<!doctype html>
<html>
  <head>
    <title>Accessibility Tree</title>
    <meta
      http-equiv="Content-Security-Policy"
      content="script-src 'self' 'unsafe-inline'"
    />
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/a11y-light.min.css" />

    <script src="js/bootstrap.bundle.min.js"></script>

    <!-- This is for the spinner -->
    <style>
      .spinner {
        width: 40px;
        height: 40px;
        border: 4px solid rgba(0, 0, 0, 0.1);
        border-radius: 50%;
        border-top-color: #785ef0;
        animation: spin 1s ease infinite;
        margin: auto;
        position: absolute;
        top: 50%;
        left: 48%;
        transform: translate(-50%, -50%);
      }

      @keyframes spin {
        from {
          transform: rotate(0deg); /* Start at 0 degrees */
        }
        to {
          transform: rotate(360deg); /* End at 360 degrees */
        }
      }
    </style>
    <link rel="stylesheet" href="tabbyExtension.css" />
  </head>

  <body>
    <div
      id="extensionContainer"
      class="extension-container d-flex flex-column justify-content-center align-items-center mx-auto my-0"
    >
      <!-- Url -->
      <div id="urlGroup" class="group-container url-group">
        <p>
          Current site:
          <a id="currentTabUrl" href="https://www.tech.gov.sg" target="_blank"
            >Current Tab Url Title</a
          >
        </p>
      </div>

      <!-- TitleToggle -->
      <div
        id="titleToggleGroup"
        class="group-container title-toggle-group d-flex flex-row justify-content-between align-items-center"
      >
        <h1>Tabbee</h1>
        <div class="form-check form-switch">
          <input
            aria-labelledby="tabbee-toggle-label"
            id="tabbeeToggle"
            class="form-check-input"
            type="checkbox"
          />
        </div>
      </div>

      <!-- OverviewIssues -->
      <div
        id="overviewIssuesGroup"
        class="group-container overview-issues-group py-3 d-flex flex-row justify-content-center align-items-center"
      >
        <div id="overview" class="overview mx-2 p-2 border-bottom d-none">
          <p>Overview</p>
        </div>

        <!-- TODO: add back class="issues, border-bottom" when UI complete -->
        <div
          id="issues"
          class="d-flex flex-row justify-content-center align-items-center mx-2 p-2 gap-3 d-none"
        >
          <p>Issues</p>
          <div id="issuesCount" class="issues-count"></div>
        </div>
      </div>

      <!-- Highlight -->
      <div
        id="highlightToggleGroup"
        class="group-container highlight-toggle-group d-flex flex-row justify-content-center align-items-center"
      >
        <div class="my-2 py-2 px-3">
          <p>Highlight issues</p>
        </div>

        <div id="highlightToggleHolder" class="highlight-toggle-holder">
          <div class="form-check form-switch">
            <input
              aria-labelledby="highlight-toggle-label"
              id="highlightToggle"
              class="form-check-input"
              type="checkbox"
            />
          </div>
        </div>
      </div>

      <!-- MainContent-->
      <div class="group-container">
        <!-- ModalWarning -->
        <div
          id="modalWarning"
          class="modal-warning d-flex flex-row align-items-center border border-1 rounded p-3 my-3 d-none"
        >
          <div>
            <img
              src="assets/info-circle.svg"
              width="32"
              height="32"
              alt="Info Circle Icon"
            />
          </div>
          <div>
            <p>
              We are collecting details like the URL and the type of issues
              found to help us better understand how we can improve the product
              for you.
            </p>
          </div>
          <div>
            <img
              src="assets/cross.svg"
              width="24"
              height="24"
              alt="Cross Icon"
            />
          </div>
        </div>

        <!-- Accordion -->
        <div id="accordionGroup" class="accordion my-3 d-none">
          <div class="accordion-item">
            <h2 class="accordion-header">
              <button
                class="accordion-button collapsed"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#collapseOne"
                aria-expanded="false"
                aria-controls="collapseOne"
              >
                Main body
              </button>
            </h2>
            <div
              id="collapseOne"
              class="accordion-collapse collapse"
              data-bs-parent="#accordionGroup"
            >
              <!--Content dynamically loaded via createIssueElementsGroupHolder(holderUniqueId) -->
            </div>
          </div>
        </div>
      </div>

      <!-- MakeAccessible-->
      <div
        id="makeAccessibleGroup"
        class="group-container make-accessible-group bg-grey-100 d-flex flex-row justify-content-between align-items-center"
      >
        <div class="d-flex gap-2 justify-content-center align-items-center">
          <h2>Make accessible</h2>
          <img
            src="assets/question-mark.svg"
            width="14"
            height="14"
            alt="Question Mark Icon"
            role="button"
            tabindex="0"
            data-bs-toggle="tooltip"
            title="Automatically makes non-interactive elements clickable and adds alt text to images."
            aria-label="More information"
            aria-describedby="tooltip-description"
          />
        </div>
        <div
          id="makeAccessibleToggleHolder"
          class="make-accessible-toggle-holder"
        >
          <div class="form-check form-switch">
            <input
              aria-labelledby="make-accessible-toggle-label"
              id="makeAccessibleToggle"
              class="form-check-input"
              type="checkbox"
            />
          </div>
        </div>
      </div>
    </div>

    <script src="popup.js"></script>
    <script src="/js/highlight.min.js"></script>
    <script src="eventListnerAttach.js"></script>
    <!-- <script src="tabbyExtension.js"></script> -->
  </body>
</html>
